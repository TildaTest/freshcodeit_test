var width=$(window).width();function initPage(){AOS.init({duration:1e3}),$("#t-header .menu-home").addClass("active"),$(".menu__container, .main-title span, .main-description, .main-block .btn").removeClass("start-pos"),setTimeout(function(){$(".main-bottom").removeClass("hidden")},1e3),$(".main-block .btn, #rec166147657 .btn").on("click",function(){formOpen($(this).data("form-id"))})}function formOpen(e){if($(".form-container, .backdrop").removeClass("close"),$("body, #t-header #rec162445357, #rec168341874").addClass("scroll-lock"),$(".main-form").show(),$("#thanks").hide(),e)$(".main-form .select-form").hide(),$(".main-form form.active").removeClass("active").hide(),$(e).addClass("active").show();else{$(".main-form .select-form").show(),$(".main-form form.active").removeClass("active").hide();var t=$(".main-form .select-form > select").val();$(t).addClass("active").show()}}function formClose(){$(".form-container, .backdrop").addClass("close"),setTimeout(function(){$("body, #t-header #rec162445357, #rec168341874").removeClass("scroll-lock")},500)}function formChange(e,t){$(".main-form form.active").fadeOut(t,function(){$(this).removeClass("active"),$(e).fadeIn(t).addClass("active")})}function formSubmit(e){var t=e.find(".btn");e.hasClass("js-send-form-success")&&(t.removeClass("send"),t.find("input").attr("disabled",!1),e.parent().fadeOut(1e3,function(){e.parent().next("#thanks").fadeIn(1e3)}))}function upWidgetClick(){var e=$(this).parents(".t-upwidget-container");setTimeout(function(){e.find("input:file").unbind().change(function(t){var i=e.find(".t-upwidget-container__data table");e.find(".t-upwidget-container__button").hide(),setTimeout(function(){var t=e.find(".t-upwidget-container__data");t.addClass("upwidget__show-files"),t.find("table").slice(i.length).each(function(e,t){var i=$(t).find(".t-upwidget-container__data_table_fileinfo"),a=$(t).find(".t-upwidget-container__data_table_actions"),n=i.parent();a.on("click",removeFileClick),a.parent().prepend(i),n.remove()})},0)})},0)}function removeFileClick(){0==$(this).find(".t-upwidget-container__data_progress").length&&$(".t-upwidget-container__data_table").length<=1&&setTimeout(function(){$(".t-upwidget-container__data").removeClass("upwidget__show-files"),$(".t-upwidget-container__button").show().text("Не забудь о резюме")},400)}function prepareForms(){var e=$("#rec170673452, #rec170852898, #rec170853045"),t=e.find("form"),i=t.find(".t-select__wrapper");t.addClass("mui-form"),t.find(".t-form__submit").addClass("btn").find("button").attr("id","main-form-submit"),t.find(".t-input-block").addClass("mui-textfield"),setTimeout(function(){var e=t.find(".t-upwidget-container__button, .t-upwidget-container__button-indiv");e.filter(".t-upwidget-container__button").css({color:"#8C8E9288",backgroundColor:"transparent",fontSize:"18px",textAlign:"left",width:"100%",maxWidth:"100%",padding:0}).text("Не забудь о резюме"),e.on("click",upWidgetClick)}),t.each(function(){var e=$(this);e.find(".t-input-group_em, .t-input-group_em+.t-input-group_in").wrapAll('<div class="mui-form-half"/>'),e.find(".t-input-block").last().addClass("last-field"),e.removeAttr("data-success-callback"),"form170853045"!==e.attr("id")&&e.data("success-callback","formSubmit")}),i.addClass("mui-select"),i.find("select").prop("required",!0),i.find("select>option:first-child").prop({hidden:!0}),$(".mui-select").on("click",function(){$(this).addClass("topAuto"),setTimeout(function(e){var t=$(e).find(".mui-select__menu");if(0!==t.length){var i=t.offset().top+t.height();$(window).scrollTop()+$(window).height()<i&&t.css({top:"",bottom:"100%"})}},0,this)}),t.appendTo(".form-container .main-form"),t.hide(),e.remove(),$(".form-container .form-close, .backdrop, #thanks .link").on("click",function(){formClose()}),$(".main-form .btn").on("click",function(e){var t=$(this),i=t.parents("form");i.find(".t-form__submit button").click(),setTimeout(function(){0===i.find(".js-error-control-box").length&&(t.addClass("send"),t.find("input").attr("disabled",!0))},0)}),$(".main-form .select-form > select").on("change",function(e){formChange($(this).val(),500)})}function initPortfolioSlider(){var e=$(window).width(),t={imagesLoaded:!0,prevNextButtons:!1,pageDots:!1,rightToLeft:e>980,cellAlign:"left",draggable:e<=980,wrapAround:!0,autoPlay:15e3},i=$(".carousel").flickity(t),a=$(".app-info").flickity({prevNextButtons:!1,pageDots:!1,draggable:!1}),n=i.find(".carousel-cell .slide-inner"),s="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform",o=i.data("flickity"),r=100/o.slides.length;$(".progressbar > span").width(r+"%"),$(window).resize(function(){$(window).width()<=980?o.options.draggable=!0:o.options.draggable=!1,o.updateDraggable()}),i.on("scroll.flickity",function(){$(window).width()<980||o.slides.forEach(function(e,t){var i,a=n[t];i=0===t?Math.abs(o.x)>o.slidesWidth?o.slidesWidth+o.x+o.slides[o.slides.length-1].outerWidth+e.target:e.target+o.x:t===o.slides.length-1&&Math.abs(o.x)+o.slides[t].outerWidth<o.slidesWidth?e.target-o.slidesWidth+o.x-o.slides[t].outerWidth:e.target+o.x,a.style[s]="translateX("+i*(-1/-1.1)+"px)"})}),i.on("change.flickity",function(e,t){var i=100/o.slides.length,n=t+1;a.flickity("select",t),$(".progressbar > span").width(n*i+"%"),$(".app-number").text(n<10?"0"+n:n)}),$(".arrow-right").on("click",function(){var e=$(this);i.flickity("next",!0),e.addClass("animate-right"),setTimeout(function(){e.removeClass("animate-right")},1e3)})}function initReasonsSlider(){var e=$(".reasons-swiper");$(".arrow-right").on("click",function(){var t=$(".reasons .reasons-slider"),i=t.find(".reasons-slide.active"),a=$(this);a.addClass("animate-right"),setTimeout(function(){a.removeClass("animate-right")},1e3),i.removeClass("active"),i.next().addClass("active"),setTimeout(function(){t.append(i)},500),e.each(function(e,t){var i=$(t),a=i.find(".swiper-slide.active");a.addClass("prev").removeClass("active"),a.prev().addClass("active"),setTimeout(function(){i.prepend(a.removeClass("prev"))},500)})}),$(".arrow-left").on("click",function(){var t=$(".reasons .reasons-slider"),i=t.find(".reasons-slide.active"),a=$(this);a.addClass("animate-left"),setTimeout(function(){a.removeClass("animate-left")},1e3),t.prepend(t.children().last()),setTimeout(function(){i.removeClass("active"),i.prev().addClass("active")},0),e.each(function(e,t){var i=$(t),a=i.find(".swiper-slide.active");i.append(i.children().first().addClass("prev")),setTimeout(function(){a.next().removeClass("prev"),a.removeClass("active"),a.next().addClass("active")},0)})}),$(".reasons-mobile-swiper").flickity({imagesLoaded:!0,prevNextButtons:!1,pageDots:!1,cellAlign:"center"})}$(document).ready(function(){var e=$(".meetups .swiper-wrapper"),t=$("#rec166115190, #rec172962379");if(0!=t.length){e.empty();var i=t.find('.tn-elem[data-elem-id="1582730664411"]');width<=1200?i.attr("data-swiper-parallax-x","50"):width<=1400?i.attr("data-swiper-parallax-x","75"):width<=1600?i.attr("data-swiper-parallax-x","100"):i.attr("data-swiper-parallax-x","150"),t.appendTo(e),t.wrap('<div class="swiper-slide"><div class="slide-content"></div><div class="bg-gray"></div></div>'),new Swiper(".meetups-swiper",{grabCursor:!0,spaceBetween:30,parallax:width>=980,breakpoints:{980:{spaceBetween:0}}})}else $("meetups").hide()}),$(document).ready(function(){$(window).width()>=980?setTimeout(initPage,2e3):initPage(),prepareForms(),$(".advantages h3 span").hover(function(){var e=$(this).data("subject");$(".advantages ."+e).css({color:"#2D91F2"})},function(){var e=$(this).data("subject");$(".advantages ."+e).css({color:"#031323"})}),initPortfolioSlider(),initReasonsSlider()});var CLIENT_ID="598798259125-r73h54804ftfi29dlejvmcaf6dh96m3l.apps.googleusercontent.com",API_KEY="AIzaSyC3lZg1-B-e8XLvN7TtCkL6SmO1lzJ9sic",DISCOVERY_DOCS=["https://sheets.googleapis.com/$discovery/rest?version=v4"],SCOPES="https://www.googleapis.com/auth/spreadsheets.readonly",SPREADSHEET_ID="1xkUZ7BMztcHbmpEOYmjYXmZGj0QCQZZLKfJZXFiDpY0";function handleClientLoad(){gapi.load("client:auth2",initClient)}function initClient(){gapi.client.init({apiKey:API_KEY,clientId:CLIENT_ID,discoveryDocs:DISCOVERY_DOCS,scope:SCOPES}).then(function(){getRelevantVacancies(),getVacanciesNames()},function(e){console.log(e)})}function getVacanciesNames(){gapi.client.sheets.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:"vacancies!B:B"}).then(function(e){var t=e.result.values,i=$("#form170852898").find('select[name="vacancy"]');t.slice(1).forEach(function(e){i.append('<option value="'+e[0]+'">'+e[0]+"</option")})},function(e){console.error("error: "+e.result.error.message)})}function getRelevantVacancies(){gapi.client.sheets.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:"relevant"}).then(function(e){var t=[],i=e.result.values,a=i[0];i=i.slice(1);for(var n=0;n<i.length;n++)if(!(i[n].length<a.length)){for(var s={},o=0;o<i[n].length;o++)s[a[o]]=i[n][o];t.push(s)}window.vacancies=t,fillVacancies(t)},function(e){console.error("error: "+e.result.error.message)})}function fillVacancies(e){var t=$(".careers .careers-list");t.fadeOut(500,function(){t.html(""),e.forEach(e=>{var i=$($.parseHTML('<li data-aos="fade-up"><a class="vacancy-item-link" target="_blank"><div class="careers-item-title"></div><div class="careers-item-info"></div><div class="careers-item-description line-clamp"></div></a></li>'));i.data("vacancy-id",e.id),i.find(".vacancy-item-link").attr("href",e.url),i.find(".careers-item-title").html(e.title),i.find(".careers-item-info").html(e.subtitle),i.find(".careers-item-description").html(e.description),t.append(i)}),$(this).fadeIn(500)})}$(function(){$(".lazy").lazy()});var WIDTH=$(window).width();function showPage(){$("#loader").css("height","0px"),$("body").removeClass("scroll-lock"),$("#loader img").addClass("hidden"),$(window).scrollTop(0)}function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}WIDTH>=980&&$("body").addClass("scroll-lock"),$(document).ready(function(){var e=window.location.pathname;"/thank-you-page"===e||"/program-sent"===e?($("#loader").css("display","none"),showPage()):WIDTH>=980&&setTimeout(showPage,1500),$(".menu-link-item").on("click",function(e){$(".menu-list_item").removeClass("active"),$(e.target.parentNode).addClass("active")}),$(".menu__burger, .menu__close").on("click",function(e){e.preventDefault();const t=$(".menu__content");"-490px"===t.css("top")?t.css("top","0"):t.css("top","-490px")})}),$(document).ready(function(){var e=0;$(window).scroll(function(){var t=$(this).scrollTop(),i=$("#btn-scroll"),a=$("#t-footer .footer");t>2500?t<=e?i.addClass("show"):i.removeClass("show"):t<500&&i.removeClass("show"),t+$(this).height()>$("body").height()-a.height()?a.css("opacity","1"):a.css("opacity","0"),i.on("click",scrollToTop),t+$(window).height()===$(document).height()?$("#rec166147657, #rec174128763, #rec183008512, #rec185759638, #rec194057971").addClass("without-shadow"):$("#rec166147657, #rec174128763, #rec183008512, #rec185759638, #rec194057971").removeClass("without-shadow"),e=t})});
